<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8" />
  </head>
  <body>
    <canvas id="canvas"></canvas>
    <script src="snowfall.js"></script>
    <div class="header">
      <div class="title-container">
        <img src="https://cdn-icons-png.freepik.com/512/2484/2484178.png" alt="">
        <h1>Snowden</h1>
      </div>
      <!-- Other header content -->
      <button id="connect-button" class="button">Connect Wallet</button>
      <script>
        let isWalletConnected = false; // Track wallet connection status
      
        document.getElementById('connect-button').addEventListener('click', async () => {
          if (!isWalletConnected) {
            try {
              // Check if Ethereum object is available in window
              if (window.ethereum) {
                // Request account access
                const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
                const account = accounts[0];
                console.log(account); // Log the connected account
      
                // Update button text with account address
                document.getElementById('connect-button').textContent = `Connected: ${account.substring(0, 6)}...${account.slice(-4)}`;
      
                isWalletConnected = true; // Update connection status
      
                // Optionally, you can change the button text to indicate the new functionality
                document.getElementById('connect-button').textContent = 'Change Profile Picture';
              } else {
                console.log('Ethereum wallet is not available');
              }
            } catch (error) {
              console.error('An error occurred:', error);
            }
          } else {
            // Functionality to change the profile picture
            const fileInput = document.createElement('input');
            fileInput.type = 'file';
            fileInput.accept = 'image/*';
            fileInput.onchange = (e) => {
              const file = e.target.files[0];
              const reader = new FileReader();
              reader.onloadend = () => {
                // Assuming you have an img element with class 'avatar'
                const avatarElement = document.querySelector('.avatar');
                avatarElement.src = reader.result;
              };
              reader.readAsDataURL(file);
            };
            fileInput.click();
          }
        });
      </script>
    </div>
    <div class="header">
      <div id="container">
        <div class="leaderboard">
          <h3>Top Players</h3> <!-- Added leaderboard title -->
          <div class="row">
            <img class="avatar" src="default_avatar.jpg" alt="Player1 Avatar"><div class="name">Player1</div><div class="score">430</div>
          </div>
          
          <div class="row">
            <img class="avatar" src="default_avatar.jpg" alt="Player2 Avatar"><div class="name">Player2</div><div class="score">580</div>
          </div>
          
          <div class="row">
            <img class="avatar" src="default_avatar.jpg" alt="Player3 Avatar"><div class="name">Player3</div><div class="score">310</div>
          </div>
          
          <div class="row">
            <img class="avatar" src="default_avatar.jpg" alt="Player4 Avatar"><div class="name">Player4</div><div class="score">640</div>
          </div>
          
          <div class="row">
            <img class="avatar" src="default_avatar.jpg" alt="Player5 Avatar"><div class="name">Player5</div><div class="score">495</div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
